---
auth: 
---
#动态规划、记搜、回溯笔记
记录一下动态规划、记搜、回溯强化练习的收获。

## 一些认识和方法论
先总结一些相对抽象的、顶层的认识、概念、方法论。
### 自底向上和自顶向下的动态规划
这两种动态规划最直观的区别在于，自底向上考虑的是当前状态可以由哪些之前的状态转移得到，自顶向下考虑的是当前状态可以推出哪些之后的状态。个人感觉自顶向下的状态转移其实更符合直觉。
自底向上的动态规划的代码形式往往是基于循环的狭义动态规划。需要额外考虑的是base case，也就是根据循环中状态转移的方向确定初始化条件。自底向上的动态规划考虑当前状态可以由哪些之前的状态转移得到，因此需要初始化的是最初的状态。
自顶向下的动态规划的代码形式往往是基于递归的记搜。由于自顶向下的动态规划考虑可以推出哪些之后的状态，因此需要额外考虑的是递归结束的边界条件。如果边界条件考虑错误则可能导致结果错误甚至无限递归爆栈。
通常情况上述两种动态规划可以相互转化，两种写法理论上时间复杂度是基本一致的。

### 暴力搜索和动态规划
通常的暴力搜索指无缓存的回溯，动态规划指包括记搜和动态规划两种方法的线性遍历。暴力搜索假设每一层可能的分支有n个，共m层，则时间复杂度为$O(n^m)$ 。而记搜和动态规划的时间复杂度视问题类型而定，通常不会超过$O(n^2)$。但并非动态规划的时间复杂度就一定比暴力搜索好，尤其是背包类型的问题，动态规划的时间复杂度还需要考虑背包的维度和规模。如果背包维度超过一维且规模很大，而物品数量较少（小几十），则可以考虑暴力搜索。
通常测评机的时间复杂度敏感阈值在1e8左右，对于2分支的暴力搜索大概在$2^{26}$到$2^{27}$之间。

## 需要注意的问题
在练习中遇到的问题和犯的错

### 不可以将状态列在dp数组之外单独记
当出现这个想法的时候，就要考虑是不是dp数组的维度开少了。dp数组的定义需要考虑问题问什么和有哪些条件和状态影响某一个子问题的结果。